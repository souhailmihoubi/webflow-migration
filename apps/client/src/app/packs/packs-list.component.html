@if (isLoading()) {
  <div class="min-h-[60vh] flex items-center justify-center bg-cream-light">
    <div
      class="w-12 h-12 border-4 border-accent border-t-transparent rounded-full animate-spin"
    ></div>
  </div>
} @else {
  <!-- Hero Section -->
  <section class="bg-primary py-16 px-4 border-b border-white/5">
    <div class="max-w-7xl mx-auto text-center">
      <h1
        class="text-4xl md:text-6xl font-heading font-bold text-white uppercase tracking-[0.3em] mb-6"
      >
        Pack Mariage
      </h1>
      <div class="w-20 h-1 bg-accent mx-auto mb-8"></div>

      <!-- 5% Discount Badge -->
      <div class="inline-block bg-accent text-white px-8 py-4 mb-6">
        <p class="text-2xl md:text-3xl font-bold uppercase tracking-wider">
          -5% ou plus de Réduction
        </p>
      </div>

      <p
        class="text-white/80 text-lg md:text-xl max-w-3xl mx-auto leading-relaxed"
      >
        Profitez de nos packs exclusifs pour votre mariage ! Économisez 5% sur
        une sélection de 3 produits soigneusement choisis.
      </p>

      <nav class="flex justify-center mt-8" aria-label="Breadcrumb">
        <ol
          class="flex items-center space-x-2 text-[10px] uppercase tracking-widest font-bold text-white/50"
        >
          <li>
            <a routerLink="/" class="hover:text-accent transition-colors"
              >Accueil</a
            >
          </li>
          <li>/</li>
          <li class="text-white">Pack Mariage</li>
        </ol>
      </nav>
    </div>
  </section>

  <!-- Packs Grid -->
  <section class="bg-cream-light py-20 px-4">
    <div class="max-w-7xl mx-auto">
      @if (packs().length === 0) {
        <div class="text-center py-20">
          <p class="text-gray-500 text-lg">
            Aucun pack disponible pour le moment.
          </p>
        </div>
      } @else {
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-12">
          @for (pack of packs(); track pack.id) {
            <a
              [routerLink]="['/pack', pack.slug]"
              class="group block bg-white shadow-lg hover:shadow-2xl transition-all duration-300"
            >
              <!-- Pack Image -->
              <div class="relative aspect-square overflow-hidden bg-gray-100">
                @if (pack.mainImage) {
                  <img
                    [src]="pack.mainImage"
                    [alt]="pack.name"
                    class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"
                  />
                } @else {
                  <div
                    class="w-full h-full flex items-center justify-center text-gray-300"
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      fill="none"
                      viewBox="0 0 24 24"
                      stroke-width="1"
                      stroke="currentColor"
                      class="w-24 h-24"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"
                      />
                    </svg>
                  </div>
                }

                <!-- Discount Badge -->
                @if (pack.discountPercentage) {
                  <div
                    class="absolute top-4 right-4 bg-accent text-white text-xs font-bold uppercase tracking-widest py-2 px-4 shadow-lg"
                  >
                    -{{ pack.discountPercentage }}%
                  </div>
                }

                <!-- Limited Stock Badge -->
                <div
                  class="absolute bottom-4 left-4 bg-primary text-white text-[10px] font-bold uppercase tracking-widest py-2 px-3"
                >
                  Stocks Limités
                </div>
              </div>

              <!-- Pack Info -->
              <div class="p-6 space-y-4">
                <h3
                  class="text-xl font-heading font-bold text-primary uppercase tracking-wider group-hover:text-accent transition-colors"
                >
                  {{ pack.name }}
                </h3>

                @if (pack.description) {
                  <p class="text-sm text-gray-600 line-clamp-2">
                    {{ pack.description }}
                  </p>
                }

                <div
                  class="flex items-center justify-between pt-4 border-t border-gray-100"
                >
                  <div>
                    <p
                      class="text-xs text-gray-400 uppercase tracking-widest mb-1"
                    >
                      Prix du Pack
                    </p>
                    <p class="text-2xl font-bold text-accent">
                      {{ pack.price }} TND
                    </p>
                  </div>

                  <div
                    class="w-10 h-10 rounded-full bg-accent text-white flex items-center justify-center group-hover:scale-110 transition-transform"
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      fill="none"
                      viewBox="0 0 24 24"
                      stroke-width="2"
                      stroke="currentColor"
                      class="w-5 h-5"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="m8.25 4.5 7.5 7.5-7.5 7.5"
                      />
                    </svg>
                  </div>
                </div>
              </div>
            </a>
          }
        </div>
      }
    </div>
  </section>
}
