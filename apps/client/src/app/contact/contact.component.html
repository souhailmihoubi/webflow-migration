<div class="bg-cream-light min-h-screen">
  <!-- Hero Section -->
  <section
    class="relative h-[40vh] min-h-[300px] flex items-center justify-center bg-dark overflow-hidden"
  >
    <div class="absolute inset-0 opacity-40">
      <img
        src="https://images.unsplash.com/photo-1524758631624-e2822e304c36?auto=format&fit=crop&q=80"
        alt="Showroom Background"
        class="w-full h-full object-cover"
      />
    </div>
    <div class="relative z-10 text-center px-4">
      <h1
        class="text-4xl md:text-6xl font-heading font-bold text-white uppercase tracking-[0.3em] mb-4"
      >
        Contactez-nous
      </h1>
      <div class="w-24 h-1 bg-accent mx-auto"></div>
    </div>
  </section>

  <div class="max-w-7xl mx-auto py-20 px-4 sm:px-6 lg:px-8">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-16">
      <!-- Contact Info & Map -->
      <div class="space-y-12">
        <div class="space-y-8">
          <div>
            <h2
              class="text-xs uppercase tracking-[0.3em] text-accent font-bold mb-6"
            >
              Nos Coordonnées
            </h2>
            <div class="space-y-6">
              <div class="flex items-start space-x-4">
                <div
                  class="w-10 h-10 bg-white shadow-sm flex items-center justify-center text-primary"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                    class="w-5 h-5"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"
                    />
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"
                    />
                  </svg>
                </div>
                <div>
                  <h3
                    class="text-[10px] uppercase tracking-widest text-black font-bold mb-1"
                  >
                    Showroom
                  </h3>
                  <a
                    href="https://www.google.com/maps/place/L'ARTISTOU+Meubles+-+Nabeul/@36.4433125,10.7134904,17z/data=!3m1!4b1!4m6!3m5!1s0x12fd517fa9bb295d:0xcb84d2fa80b7278a!8m2!3d36.4433125!4d10.7134904!16s%2Fg%2F11f7kl8bjq?entry=ttu"
                    class="text-sm font-heading font-medium text-primary"
                  >
                    {{ contactInfo.address }}
                  </a>
                </div>
              </div>

              <div class="flex items-start space-x-4">
                <div
                  class="w-10 h-10 bg-white shadow-sm flex items-center justify-center text-primary"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                    class="w-5 h-5"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"
                    />
                  </svg>
                </div>
                <div>
                  <h3
                    class="text-[10px] uppercase tracking-widest text-black font-bold mb-1"
                  >
                    Téléphone
                  </h3>
                  @for (phone of contactInfo.phones; track phone) {
                    <p class="text-sm font-heading font-medium text-primary">
                      {{ phone }}
                    </p>
                  }
                </div>
              </div>

              <div class="flex items-start space-x-4">
                <div
                  class="w-10 h-10 bg-white shadow-sm flex items-center justify-center text-primary"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                    class="w-5 h-5"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"
                    />
                  </svg>
                </div>
                <div>
                  <h3
                    class="text-[10px] uppercase tracking-widest text-black font-bold mb-1"
                  >
                    Email
                  </h3>
                  <p class="text-sm font-heading font-medium text-primary">
                    {{ contactInfo.email }}
                  </p>
                </div>
              </div>
            </div>
          </div>

          <div>
            <h2
              class="text-xs uppercase tracking-[0.3em] text-accent font-bold mb-6"
            >
              Horaires d'Ouverture
            </h2>
            <div class="space-y-2">
              @for (item of contactInfo.hours; track item.day) {
                <div
                  class="flex justify-between text-sm py-2 border-b border-gray-100"
                >
                  <span class="text-black">{{ item.day }}</span>
                  <span class="font-bold text-primary">{{ item.time }}</span>
                </div>
              }
            </div>
          </div>
        </div>

        <!-- Google Maps -->
        <div
          class="aspect-video w-full bg-white shadow-sm border border-gray-100 overflow-hidden grayscale hover:grayscale-0 transition-all duration-700"
        >
          <iframe
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3204.6465406381387!2d10.730384476332158!3d36.45293678735818!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x12fdaad254b79117%3A0xe5a3632f741639d4!2sL'Artistou!5e0!3m2!1sfr!2stn!4v1704230000000!5m2!1sfr!2stn"
            width="100%"
            height="100%"
            style="border: 0"
            allowfullscreen=""
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"
          >
          </iframe>
        </div>
      </div>

      <!-- Contact Form -->
      <div class="bg-white p-8 md:p-12 shadow-xl border border-gray-50">
        <h2
          class="text-xs uppercase tracking-[0.3em] text-accent font-bold border-b border-accent/10 pb-6 mb-10"
        >
          Envoyez-nous un message
        </h2>

        <form
          [formGroup]="contactForm"
          (ngSubmit)="onSubmit()"
          class="space-y-8"
        >
          <div class="space-y-2">
            <label
              class="text-[9px] uppercase tracking-widest text-black font-bold"
              for="name"
              >Votre Nom Complet <span class="text-red-500">*</span></label
            >
            <input
              type="text"
              id="name"
              formControlName="name"
              placeholder="Ex: Mohamed Ali"
              class="w-full bg-cream-light/30 border border-gray-100 p-4 text-[11px] font-bold text-primary focus:border-accent focus:outline-none transition-all"
              [class.border-red-400]="hasError('name')"
            />
            @if (hasError('name', 'required')) {
              <p class="text-xs text-red-500">Le nom est requis</p>
            } @else if (hasError('name', 'minlength')) {
              <p class="text-xs text-red-500">
                Le nom doit contenir au moins 2 caractères
              </p>
            }
          </div>
          <div class="space-y-2">
            <label
              class="text-[9px] uppercase tracking-widest text-black font-bold"
              for="phone"
              >Numéro de Téléphone <span class="text-red-500">*</span></label
            >
            <div class="flex items-center space-x-2">
              <span
                class="bg-gray-100 border border-gray-100 p-4 text-[11px] font-bold text-primary"
                >+216</span
              >
              <input
                type="tel"
                id="phone"
                formControlName="phone"
                placeholder="Ex: 29 137 955"
                class="flex-1 bg-cream-light/30 border border-gray-100 p-4 text-[11px] font-bold text-primary focus:border-accent focus:outline-none transition-all"
                [class.border-red-400]="hasError('phone')"
              />
            </div>
            @if (getPhoneError(); as phoneError) {
              <p class="text-xs text-red-500">{{ phoneError }}</p>
            }
          </div>
          <div class="space-y-2">
            <label
              class="text-[9px] uppercase tracking-widest text-black font-bold"
              for="email"
              >Adresse Email (optionnel)</label
            >
            <input
              type="email"
              id="email"
              formControlName="email"
              placeholder="Ex: mohamed.ali@email.com"
              class="w-full bg-cream-light/30 border border-gray-100 p-4 text-[11px] font-bold text-primary focus:border-accent focus:outline-none transition-all"
              [class.border-red-400]="hasError('email')"
            />
            @if (hasError('email', 'email')) {
              <p class="text-xs text-red-500">
                Veuillez entrer une adresse email valide
              </p>
            }
          </div>

          <div class="space-y-2">
            <label
              class="text-[9px] uppercase tracking-widest text-black font-bold"
              for="subject"
              >Sujet <span class="text-red-500">*</span></label
            >
            <input
              type="text"
              id="subject"
              formControlName="subject"
              placeholder="Ex: Demande de devis"
              class="w-full bg-cream-light/30 border border-gray-100 p-4 text-[11px] font-bold text-primary focus:border-accent focus:outline-none transition-all"
              [class.border-red-400]="hasError('subject')"
            />
            @if (hasError('subject', 'required')) {
              <p class="text-xs text-red-500">Le sujet est requis</p>
            } @else if (hasError('subject', 'minlength')) {
              <p class="text-xs text-red-500">
                Le sujet doit contenir au moins 3 caractères
              </p>
            }
          </div>

          <div class="space-y-2">
            <label
              class="text-[9px] uppercase tracking-widest text-black font-bold"
              for="message"
              >Message <span class="text-red-500">*</span></label
            >
            <textarea
              id="message"
              formControlName="message"
              rows="5"
              placeholder="Comment pouvons-nous vous aider ?"
              class="w-full bg-cream-light/30 border border-gray-100 p-4 text-[11px] font-bold text-primary focus:border-accent focus:outline-none transition-all resize-none"
              [class.border-red-400]="hasError('message')"
            ></textarea>
            @if (hasError('message', 'required')) {
              <p class="text-xs text-red-500">Le message est requis</p>
            } @else if (hasError('message', 'minlength')) {
              <p class="text-xs text-red-500">
                Le message doit contenir au moins 10 caractères
              </p>
            }
          </div>

          @if (submitMessage()) {
            <div
              [class]="
                'p-4 text-[10px] font-bold uppercase tracking-widest ' +
                (submitMessage()?.type === 'success'
                  ? 'bg-green-50 text-green-600'
                  : 'bg-red-50 text-red-600')
              "
            >
              {{ submitMessage()?.text }}
            </div>
          }

          <button
            type="submit"
            [disabled]="isSubmitting()"
            class="w-full bg-primary text-white text-[10px] font-bold uppercase tracking-widest py-5 hover:bg-accent disabled:opacity-50 transition-all duration-300"
          >
            {{ isSubmitting() ? 'Envoi en cours...' : 'Envoyer le message' }}
          </button>
        </form>
      </div>
    </div>
  </div>
</div>
